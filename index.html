<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta encoding="UTF-8">
    <title>To-do list | AstrusWeb</title>
    <link rel="stylesheet" href="bootstrap.min.css">
  </head>
  <body>
    <div class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <span class="navbar-brand">Astrusweb</span>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="themes" aria-expanded="false">Locaweb <span class="caret"></span></a>
              <div class="dropdown-menu" aria-labelledby="locaweb">
                <a class="dropdown-item" href="https://gagarin1806.hospedagemdesites.ws:2083">cpanel</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item"
                  href="https://gagarin1806.hospedagemdesites.ws:2087">admin</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="https://www.locaweb.com.br/atendimento/">central do cliente</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://faq.astrusweb.com">FAQ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://app.sortweb.me/">Sortweb</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Dataware" aria-expanded="false">Dataware <span class="caret"></span></a>
              <div class="dropdown-menu" aria-labelledby="Dataware">
                <a class="dropdown-item" rel="noopener" target="_blank" href="http://atendimento.dataware.com.br/">Atendimentos</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="https://web.dataware.com.br/" rel="noopener" target="_blank">E-mails</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item"
                  href="https://web.dataware.com.br/Certificado" rel="noopener"
                  target="_blank">Certificados</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Planilhas" aria-expanded="false">Planilhas <span class="caret"></span></a>
              <div class="dropdown-menu" aria-labelledby="Planilhas">
                <a class="dropdown-item" rel="noopener" target="_blank" href="https://docs.google.com/spreadsheets/d/1iA-KJCmlkqRiAJm0osTSOtcjDfIhEVjrgkOYNwtlEcI/edit?usp=sharing">Pagamento - Domínios</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="https://docs.google.com/spreadsheets/d/1lWzcyJ5097hO8R-9g99GV5Wu27Plzg1Y9XW57i68U1o/edit?usp=sharing" rel="noopener" target="_blank">Leads - Novos clientes</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item"
                  href="https://docs.google.com/spreadsheets/d/1nr3vaSvSKfaDL8dCiYrlY0Ff6XfU6D27t5N6XHLd5qs/edit?ts=60ad4d34#gid=0"
                  rel="noopener" target="_blank">Certificados - Projetos</a>
              </div>
            </li>
            <li class="nav-item">
              <a target="_blank" rel="noopener" class="nav-link" href="https://repositorio.astrusweb.com/">Repositório</a>
            </li>
          </ul>
          <ul class="navbar-nav ms-md-auto">
            <li class="nav-item d-flex align-items-center">
              <button id="openConfiguracoesBtn" class="btn btn-warning btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#configuracoesDiv" aria-expanded="false" aria-controls="collapseExample">
                Configurações
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="collapse " id="configuracoesDiv">
        <!-- col-md-3 offset-md-9 -->
        <div class="card border-warning rounded-0 mb-3" >
          <div class="card-header">Configurações</div>
          <div class="card-body">
            <h5 class="card-title">Usuário</h5>
            <p class="card-text">Defina o nome de usuário utilizado no registro de suas atividades.</p>
            <div class="form-group">
              <label for="defineUsuario" class="form-label mt-0">Selecione seu nome na lista.</label>
              <select class="form-select" id="defineUsuario" style="max-width:20rem;">
              </select>
              <small></small>
            </div>
            <h5 class="card-title mt-4">Paginação</h5>
            <p class="card-text">Defina a quantidade de resultados por página.</p>
            <div class="form-group">
              <label for="definePaginacao" class="form-label mt-0">Selecione uma quantidade na lista.</label>
              <select class="form-select" id="definePaginacao" style="max-width:20rem;">
                <option>10</option>
                <option>15</option>
                <option>20</option>
                <option>25</option>
                <option>50</option>
                <option>75</option>
                <option>100</option>
              </select>
              <small class="text-warning">Valores maiores de 50 podem causar lentidão!</small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class='container'>
      <div class="page-header">
        <div class="row">
          <div class="col-lg-8 col-md-7 col-sm-6">
            <h1>Atendimentos</h1>
            <p class="lead">Listagem de atendimentos do desenvolvimento</p>
          </div> 
          <div class="col-lg-2 col-md-5 col-sm-6 d-flex align-items-center justify-content-center flex-row">
            <p id="active-users" class="mb-0 text-info">
              <span id="active-users-count">1</span> usuário(s) online.
            </p>
            <div style="width:15px; height:15px; border-radius:80%;" class="progress">
              <div class="progress-bar progress-bar-striped bg-success progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"></div>
            </div>
          </div>
        </div>
      </div>
      <section id="table-wrapper"></section>
      <div class='row'>
        <div class='col-lg-4'>
          <figure>
            <blockquote class="blockquote">
              <p class="mb-0">Proibido visualizar e não responder.</p>

            </blockquote>
            <figcaption class="blockquote-footer">
              Pessoa que já deixou <cite title="Source Title">os clientes putos</cite>
            </figcaption>
          </figure>
        </div>
        <div class='col-lg-4'>
          <figure>
            <blockquote class="blockquote">
              <p class="mb-0">Sempre peça para enviar por e-mail.</p>

            </blockquote>
            <figcaption class="blockquote-footer">
              Pessoa que já se viu acusada <cite title="Source Title">sem provas</cite>
            </figcaption>
          </figure>
        </div>
      </div>

    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="./socket.js"></script>
    <script src="./table.js"></script>
    <script id="scripts">
      var s = new Socket();
      var table = new Table(s);

      s.socket.on('user count', (total) => s.updateUserCounter(total));
      s.socket.on('novo atendimento', (newAtd) => table.appendExistingRows([newAtd]));
      s.socket.on('atualiza obs', (newObs) => table.atualizaObs(newObs));
      s.socket.on('add ticket', (addedTicket) => table.handleAddTicket(addedTicket));
      s.socket.on('atualiza status', (newStatus) => table.handleAtualizaStatus(newStatus));

      table.createTable();
      table.loadRowsFromDatabase(1, table.perPage, 'desc');
      var addRowBtn = table.addNewRow('#addRowBtn');
      var searchInput = table.enableClientFilter('#searchInput', '#searchBtn', '#cleanBtn');
      table.generateConfirmModal("body", "#scripts");
      table.defineUser("#openConfiguracoesBtn");
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

  </body>
</html>
